# Инструкция по сборке и использованию DEB пакета

## Как это работает:

DEB пакет - это способ упаковать ваше приложение для установки в Linux (Debian/Ubuntu).

**Что происходит при сборке:**
1. Файлы из проекта копируются в `/usr/share/calculator/`
2. Создается исполняемый скрипт `/usr/bin/calculator` для запуска
3. Создается файл `.desktop` для отображения в меню приложений
4. Все это упаковывается в `.deb` файл

**Что происходит при установке:**
- Файлы распаковываются в системные директории
- Скрипт запуска становится доступен из командной строки
- Приложение появляется в меню приложений

---

## Шаг 1: Установка инструментов для сборки

```bash
sudo apt-get update
sudo apt-get install debhelper build-essential
```

---

## Шаг 2: Сборка DEB пакета

Выполните в директории проекта:

```bash
dpkg-buildpackage -us -uc -b
```

**Что делает эта команда:**
- `-us` - не подписывать исходный пакет
- `-uc` - не подписывать изменения
- `-b` - собрать только бинарный пакет (без исходников)

**Результат:** 
В родительской директории появится файл `calculator_1.0-1_all.deb`

---

## Шаг 3: Установка пакета

```bash
# Перейдите в директорию, где создался .deb файл (обычно на уровень выше)
cd ..
sudo dpkg -i calculator_1.0-1_all.deb

# Если возникнут проблемы с зависимостями:
sudo apt-get install -f
```

---

## Шаг 4: Запуск калькулятора

После установки есть **3 способа** запустить калькулятор:

### Способ 1: Из командной строки
```bash
calculator
```

### Способ 2: Через меню приложений
- Откройте меню приложений (Activities или Applications)
- Найдите "Калькулятор" или "Calculator"
- Нажмите на иконку

### Способ 3: Прямой запуск файла
```bash
xdg-open /usr/share/calculator/index.html
```

---

## Структура установленных файлов

После установки файлы будут находиться здесь:

```
/usr/share/calculator/
├── index.html          # Главная страница
├── calculator.js       # Бизнес-логика
├── script.js          # UI логика
├── style.css          # Стили
├── README.md          # Документация
├── calculator.test.js # Тесты
└── package.json       # Метаданные Node.js

/usr/bin/
└── calculator         # Скрипт запуска (создается автоматически)

/usr/share/applications/
└── calculator.desktop # Файл для меню приложений
```

---

## Удаление пакета

```bash
sudo dpkg -r calculator
```

Или:

```bash
sudo apt-get remove calculator
```

---

## Проверка установки

Проверить, установлен ли пакет:

```bash
dpkg -l | grep calculator
```

Посмотреть информацию о пакете:

```bash
dpkg -s calculator
```

---

## Отладка (если что-то не работает)

1. **Проверьте, что файлы установлены:**
   ```bash
   ls -la /usr/share/calculator/
   ```

2. **Проверьте скрипт запуска:**
   ```bash
   cat /usr/bin/calculator
   ```

3. **Проверьте права на выполнение:**
   ```bash
   ls -l /usr/bin/calculator
   ```

4. **Запустите вручную для проверки:**
   ```bash
   bash /usr/bin/calculator
   ```

5. **Проверьте логи установки:**
   ```bash
   sudo dpkg -i calculator_1.0-1_all.deb 2>&1 | tee install.log
   ```

---

## Быстрый старт (все команды подряд)

```bash
# 1. Установить инструменты
sudo apt-get install debhelper build-essential

# 2. Собрать пакет
cd calculator-team-project
dpkg-buildpackage -us -uc -b

# 3. Установить пакет
cd ..
sudo dpkg -i calculator_1.0-1_all.deb
sudo apt-get install -f  # если нужны зависимости

# 4. Запустить
calculator
```

---

## Примечания

- Для работы нужен браузер (Firefox, Chrome или Chromium)
- Калькулятор откроется в браузере по умолчанию
- Все файлы устанавливаются с правами root
- После установки калькулятор доступен всем пользователям системы
