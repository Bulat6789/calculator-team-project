# Инструкция по тестированию

## Установка зависимостей

Для запуска тестов необходимо установить Jest:

```bash
npm install
```

## Запуск тестов

### Запуск всех тестов
```bash
npm test
```

### Запуск тестов в режиме наблюдения (watch mode)
```bash
npm run test:watch
```

### Запуск тестов с покрытием кода
```bash
npm run test:coverage
```

## Структура тестов

Тесты находятся в файле `calculator.test.js` и покрывают следующие функции:

1. **calculateSquare** - возведение в квадрат
   - Положительные числа
   - Отрицательные числа
   - Десятичные числа
   - Обработка ошибок

2. **calculateCube** - возведение в куб
   - Положительные числа
   - Отрицательные числа
   - Десятичные числа
   - Обработка ошибок

3. **calculateRound** - округление до ближайшего целого
   - Округление вверх (>= 0.5)
   - Округление вниз (< 0.5)
   - Целые числа
   - Отрицательные числа

4. **calculateExpression** - вычисление математических выражений
   - Базовые арифметические операции
   - Символы × и ÷
   - Сложные выражения со скобками
   - Тригонометрические функции (sin, cos, tan)

5. **getLastResult и resetLastResult** - работа с памятью
   - Сохранение результатов
   - Сброс памяти

## Рефакторинг кода

Код был рефакторирован для обеспечения тестируемости:

- **calculator.js** - содержит чистую бизнес-логику (тестируемая часть)
- **script.js** - содержит обертки для работы с DOM

Это разделение позволяет:
- Тестировать логику без необходимости создания DOM-элементов
- Легко обнаруживать регрессии при изменении кода
- Проверять корректность работы функций независимо от UI

